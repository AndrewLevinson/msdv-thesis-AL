<!DOCTYPE html>
<html>
  <head>
    <!-- metas -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>US Water Crisis</title>
    <link rel="shortcut icon" type="image/png" href="favicon.ico" />

    <!-- style -->
    <link
      href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,600,700|IBM+Plex+Sans:300,400,400i,500,600,700"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/default.css" />
    <link rel="stylesheet" href="css/typography.css" />
    <link rel="stylesheet" href="css/style.css" />

    <!-- lib scripts -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
  </head>
  <body>
    <div id="container">
      <div id="title">
        <h2>{{ chartTitle }}</h2>
        <h5>{{ subTitle }}</h5>
      </div>
      <p class="intro">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit
        repellendus fugit unde aut, commodi maiores in sapiente molestias ex hic
        voluptate pariatur doloremque quod illum quibusdam quo! Architecto
        repellat, alias eum accusantium enim dolore, omnis, animi nisi corporis
        quibusdam dolorum voluptates laudantium incidunt. Laborum nam cupiditate
        esse recusandae omnis
      </p>
      <div id="chart">
        <svg :width="svgWidth" :height="svgHeight">
          <g :transform="`translate(${margin.left}, ${margin.bottom})`">
            <path class="link" :d="paths.line"></path>
            <g v-for="(d, i) in data">
              <circle
                :cx="scale.x(d.year)"
                :cy="scale.y(d.water)"
                r="5"
                @mouseover="showLabel = !showLabel,
                myTooltip(d)"
                @mouseleave="showLabel = !showLabel, myTooltip(d)"
              />

              <!-- <text
                v-show="showLabel === true"
                :x="scale.x(d.name) + 7"
                :y="scale.y(d.expire) + 18"
                text-anchor="middle"
              >
                {{ d.expire }}
              </text> -->
            </g>

            <g
              v-axis:x="scale"
              :transform="`translate(${0}, ${height})`"
              id="x-axis"
            ></g>
            <g v-axis:y="scale"></g>
            <text
              y="-78"
              :x="svgHeight/-2"
              transform="rotate(-90)"
              text-anchor="middle"
              class="axis-title"
            >
              Renewable water resources (m3/year)
            </text>
            <text
              :x="svgWidth - margin.right - margin.left - 5"
              :y="svgHeight - margin.bottom - margin.top -10"
              text-anchor="end"
              class="axis-title"
            >
              Years
            </text>
            <text y="-30" x="-65" text-anchor="left" id="chart-one-title">
              Total Renewable Water Resources Per Capita (m^3/inhab/year)
            </text>
          </g>
        </svg>
      </div>
    </div>

    <!-- script tags -->
    <script src="scripts/script.js"></script>
  </body>
</html>
